(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{181:function(t,e,o){var content=o(191);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(31).default)("62ec80e0",content,!0,{sourceMap:!1})},190:function(t,e,o){"use strict";var n=o(181);o.n(n).a},191:function(t,e,o){(t.exports=o(30)(!1)).push([t.i,".wrapper[data-v-1a80dc2e]{width:280px}.s22[data-v-1a80dc2e],.s32[data-v-1a80dc2e],.s128[data-v-1a80dc2e]{margin-bottom:1px}",""])},193:function(t,e,o){var content=o(204);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(31).default)("41119310",content,!0,{sourceMap:!1})},194:function(t,e,o){"use strict";var n=o(182),r=o(183),c=o(187),l=o(184),h=o(186),d=o(25),f=o(185),x=(o(195),o(71),o(110),o(196)),v=o.n(x),y=o(197),m=o.n(y),w=o(189),k=o.n(w),j=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},C=function(t){function e(){var t;return Object(n.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).apply(this,arguments))).ctx=null,t}return Object(h.a)(e,t),Object(r.a)(e,[{key:"mounted",value:function(){var t=this.$el;this.ctx=t.getContext("2d"),this.draw()}},{key:"draw",value:function(){var t=this;new v.a(this.family,{weight:this.weight}).load(this.text).then(function(){if(t.ctx){t.ctx.fillStyle="rgba(".concat(t.rgba.r,", ").concat(t.rgba.g,", ").concat(t.rgba.b,", ").concat(t.rgba.a,")"),t.ctx.textAlign="left",t.ctx.textBaseline="middle",t.ctx.font="".concat(t.weight," ").concat(t.size,"px '").concat(t.family,"'"),t.ctx.beginPath(),t.ctx.clearRect(0,0,512,512);var e=t.text.split("\n"),o=function(){t.ctx.textBaseline="top";t:for(var o=0;o<512;o++){t.ctx.clearRect(0,0,512,512),t.ctx.fillText(e[0],0,o,512);for(var n=t.ctx.getImageData(0,0,512,2).data,r=0;r<512;r++){if(n[4*r+3]>0)continue t}return t.ctx.textBaseline="middle",t.ctx.clearRect(0,0,512,512),o}}(),n=512/e.length/2;1===e.length&&e[0].length>1?(n=128,t.ctx.scale(1,2)):e.length>1&&1===e[0].length&&1===e[1].length&&t.ctx.scale(2,1),e.map(function(e,r){t.ctx&&t.ctx.fillText(e,0,o+n+256*r,512)}),t.ctx.setTransform(1,0,0,1,0,0)}},function(){console.log("[FontFaceObserver] timeout: abort to load a font '"+t.family+"'")})}},{key:"download",value:function(){if(this.text){var img=this.$el.toDataURL("image/png"),t="".concat(this.text.replace(/\s+/g,""),".png");m()(img,t)}}},{key:"onTextChange",value:function(){this.draw()}},{key:"onColorChange",value:function(){this.draw()}},{key:"onFamilyChange",value:function(){this.draw()}},{key:"onSizeChange",value:function(){this.draw()}},{key:"onWeightChange",value:function(){this.draw()}},{key:"onViewSizeChange",value:function(){this.draw()}},{key:"rgba",get:function(){return k()(this.color||"#000000FF").toRgb()}}]),e}(f.c);j([Object(f.b)({type:String})],C.prototype,"text",void 0),j([Object(f.b)({type:String})],C.prototype,"color",void 0),j([Object(f.b)({type:Number})],C.prototype,"size",void 0),j([Object(f.b)({type:String})],C.prototype,"family",void 0),j([Object(f.b)({type:String})],C.prototype,"weight",void 0),j([Object(f.b)({type:Number})],C.prototype,"viewSize",void 0),j([Object(f.d)("text")],C.prototype,"onTextChange",null),j([Object(f.d)("color")],C.prototype,"onColorChange",null),j([Object(f.d)("family")],C.prototype,"onFamilyChange",null),j([Object(f.d)("size")],C.prototype,"onSizeChange",null),j([Object(f.d)("weight")],C.prototype,"onWeightChange",null),j([Object(f.d)("viewSize")],C.prototype,"onViewSizeChange",null);var O=C=j([f.a],C),_=o(24),S=Object(_.a)(O,function(){var t=this.$createElement;return(this._self._c||t)("canvas",{style:{width:this.viewSize+"px",height:this.viewSize+"px",backgroundColor:"transparent",fontKerning:"normal",textRendering:"optimizeLegibility"},attrs:{width:"512",height:"512"}})},[],!1,null,null,null).exports,F=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},P=function(t){function e(){return Object(n.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(r.a)(e,[{key:"onClickDownload",value:function(){this.$refs.canvas.download()}},{key:"calculatedSize",get:function(){return 1===this.text.length?512:256}}]),e}(f.c);F([Object(f.b)({type:String})],P.prototype,"text",void 0),F([Object(f.b)({type:String})],P.prototype,"color",void 0),F([Object(f.b)({type:String})],P.prototype,"family",void 0),F([Object(f.b)({type:String})],P.prototype,"weight",void 0),F([Object(f.b)({type:Boolean})],P.prototype,"isDark",void 0);var z=P=F([Object(f.a)({components:{EmojiCanvas:S}})],P),D=(o(190),Object(_.a)(z,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper mb-3 border-t border-solid p-2",class:t.isDark?"border-black":"border-gray-lighter"},[o("div",{staticClass:"emoji-view-header flex justify-between"},[o("span",{staticClass:"font-name"},[t._v(t._s(t.family))]),t._v(" "),o("fa",{staticClass:"cursor-pointer",class:t.isDark?"text-white":"text-black",attrs:{icon:"download"},on:{click:t.onClickDownload}})],1),t._v(" "),o("div",{staticClass:"emoji-view-body mt-3"},[o("emoji-canvas",{ref:"canvas",staticClass:"s128",attrs:{text:t.text,size:t.calculatedSize,family:t.family,color:t.color,weight:t.weight,"view-size":128}}),t._v(" "),o("emoji-canvas",{staticClass:"s32 mx-1",attrs:{text:t.text,size:t.calculatedSize,family:t.family,color:t.color,weight:t.weight,"view-size":32}}),t._v(" "),o("emoji-canvas",{staticClass:"s22 mx-1",attrs:{text:t.text,size:t.calculatedSize,family:t.family,color:t.color,weight:t.weight,"view-size":22}})],1)])},[],!1,null,"1a80dc2e",null));e.a=D.exports},203:function(t,e,o){"use strict";var n=o(193);o.n(n).a},204:function(t,e,o){(t.exports=o(30)(!1)).push([t.i,".emoji-controller[data-v-26e25dee]{max-width:250px;min-width:250px}.emoji-display[data-v-26e25dee]{max-width:1100px}.emoji-input[data-v-26e25dee]{font-size:150%;height:2.5em;width:100%;overflow:hidden;resize:none}",""])},205:function(t,e,o){"use strict";o.r(e);var n=o(202),r=o(189),c=o.n(r),l=o(182),h=o(183),d=o(187),f=o(184),x=o(186),v=o(25),y=o(185),m=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},w=function(t){function e(){return Object(l.a)(this,e),Object(d.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(h.a)(e,[{key:"click",value:function(){this.$emit("click",{text:this.text,weight:this.weight,color:this.color})}},{key:"imagePath",get:function(){return"presets/".concat(this.img)}}]),e}(y.c);m([Object(y.b)({type:String})],w.prototype,"text",void 0),m([Object(y.b)({type:String})],w.prototype,"img",void 0),m([Object(y.b)({type:String})],w.prototype,"weight",void 0),m([Object(y.b)({type:String})],w.prototype,"color",void 0);var k=w=m([y.a],w),j=o(24),C={components:{PresetButton:Object(j.a)(k,function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"m-1 cursor-pointer",attrs:{width:"22",height:"22",src:this.imagePath},on:{click:this.click}})},[],!1,null,null,null).exports,EmojiView:o(194).a,Sketch:n.Sketch},asyncData:function(){return{text:"えも\nじ",weight:"600",weights:["100","200","300","400","500","600","700","800","900"],colorPicker:{hex8:"#CF375CFF"},isDark:!0,fontFamilies:["M PLUS Rounded 1c","Nico Moji","Noto Sans JP","Noto Serif JP","Nikukyu","Sawarabi Mincho","Hannari","Kokoro","M PLUS 1p","Kosugi","Kosugi Maru","Sawarabi Gothic","Noto Sans SC","Noto Sans TC","Noto Serif SC","Noto Serif TC"],presets:[{text:"すご\nーい",img:"001_sugo-i.png",weight:"700",color:"#E4B34BFF"},{text:"おつ\nかれ",img:"002_otsukare.png",weight:"700",color:"#59B382FF"},{text:"なる\nほど",img:"003_naruhodo.png",weight:"700",color:"#62C3EBFF"},{text:"神",img:"004_god.png",weight:"700",color:"#CF375CFF"},{text:"ＬＧ\nＴＭ",img:"005_lgtm.png",weight:"900",color:"#E4B34BFF"},{text:"草",img:"006_kusa.png",weight:"700",color:"#59B382FF"},{text:"お大\n事に",img:"007_odaijini.png",weight:"700",color:"#62C3EBFF"},{text:"たす\nけて",img:"008_tasukete.png",weight:"400",color:"#CF375CFF"}]}},methods:{setWeight:function(t){this.weight=t},setBackgroundDark:function(){this.isDark=!0},setBackgroundLight:function(){this.isDark=!1},onClickPreset:function(t){this.text=t.text,this.weight=t.weight;var e=c()(t.color);this.colorPicker=Object.assign({},this.colorPicker,{a:e.toRgb().a,hex:e.toHex(),hex8:e.toHex8(),rgba:e.toRgb()})}}},O=(o(203),Object(j.a)(C,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"flex flex-row m-4 mt-8",class:t.isDark?"text-white":"text-black",style:{"background-color":t.isDark?"#36393F":"#FFFFFF"}},[o("div",{staticClass:"emoji-controller"},[o("div",[o("h2",{staticClass:"text-lg mg-2"},[t._v("\n        Preset\n      ")]),t._v(" "),t._l(t.presets,function(e){return o("preset-button",{key:e.text,attrs:{text:e.text,img:e.img,color:e.color,weight:e.weight},on:{click:t.onClickPreset}})})],2),t._v(" "),o("div",{staticClass:"mt-2"},[o("h2",{staticClass:"text-lg mb-2"},[t._v("\n        Text\n      ")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"border rounded emoji-input",domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"mt-2"},[o("h2",{staticClass:"text-lg mb-2"},[t._v("\n        Weight\n      ")]),t._v(" "),t._l(t.weights,function(e){return o("button",{key:e,staticClass:"bg-white hover:bg-grey-lightest text-grey-darkest text-sm m-1 py-1 px-4 border border-grey-light rounded-lg shadow",style:{minWidth:"64px",fontWeight:e},on:{click:function(o){return t.setWeight(e)}}},[t._v("\n        "+t._s(e)+"\n      ")])})],2),t._v(" "),o("div",{staticClass:"mt-2"},[o("h2",{staticClass:"text-lg mb-2"},[t._v("\n        Color\n      ")]),t._v(" "),o("no-ssr",{attrs:{placeholder:"Picker Loading..."}},[o("sketch",{model:{value:t.colorPicker,callback:function(e){t.colorPicker=e},expression:"colorPicker"}})],1)],1),t._v(" "),o("div",{staticClass:"mt-2"},[o("h2",{staticClass:"text-lg mb-2"},[t._v("\n        Background\n      ")]),t._v(" "),o("button",{staticClass:"bg-white hover:bg-grey-lightest text-grey-darkest text-sm m-1 py-1 px-4 border border-grey-light rounded-lg shadow",style:{minWidth:"64px"},on:{click:function(e){return t.setBackgroundDark()}}},[t._v("Dark")]),t._v(" "),o("button",{staticClass:"bg-white hover:bg-grey-lightest text-grey-darkest text-sm m-1 py-1 px-4 border border-grey-light rounded-lg shadow",style:{minWidth:"64px"},on:{click:function(e){return t.setBackgroundLight()}}},[t._v("Light")])]),t._v(" "),o("div",{staticClass:"mt-4"},[o("nuxt-link",{staticClass:"no-underline",attrs:{to:"/help"}},[o("h2",{staticClass:"text-lg mb-2",class:t.isDark?"text-blue-light":"text-blue-dark"},[t._v("\n          Help\n        ")])])],1)]),t._v(" "),o("div",{staticClass:"emoji-display flex flex-wrap justify-start"},t._l(t.fontFamilies,function(e){return o("div",{key:e,staticClass:"mx-6 mb-6"},[o("emoji-view",{attrs:{text:t.text,family:e,color:t.colorPicker.hex8,weight:t.weight,isDark:t.isDark}})],1)}),0)])},[],!1,null,"26e25dee",null));e.default=O.exports}}]);